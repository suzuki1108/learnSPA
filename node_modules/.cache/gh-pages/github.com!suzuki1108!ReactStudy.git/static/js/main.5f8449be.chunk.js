(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(11),r=a.n(c),o=a(2);var s=a(9),l=a(12),d=a(176),j=a(165),p=a(163),u=a(173),b=a(160),h=a(164),m=a(174),O=a(62),g=a.n(O),x=a(122),f=a(161),v=a(162);function k(){return Object(o.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(o.jsx)(b.a,{color:"inherit",href:"/",children:"MyBookShelf"})," ",(new Date).getFullYear(),"."]})}var y=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var I=a(87);function S(){return Object(o.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(o.jsx)(b.a,{color:"inherit",href:"/",children:"MyBookShelf"})," ",(new Date).getFullYear(),"."]})}var C=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(/favicon.ico)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var w=a(64),N=a(166),P=a(65),T=a.n(P),B=a(168),D=a(169),W=a(167),M=a(177),U=a(20),z=a(50),A=a.n(z),L=a(171),R=a(172),E=a(84),G=a.n(E),J=a(85),q=a.n(J),$=a(175),F=a(170),K=a(124);var Y=Object(f.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"140%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(U.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(U.b)(e.palette.common.white,.25)},marginLeft:"auto",width:"40%"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(w.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),modal:{maxHeight:"inherit",maxWidth:"inherit",marginRight:"15px",marginLeft:"15px",display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),H=i.a.createContext();var Q=Object(f.a)({root:{position:"fixed",bottom:0,width:"100%"},wrapper:{display:"block",width:"100%",position:"fixed",left:0,bottom:0,zIndex:1e3,textAlign:"center"},button:{maxWidth:"100%"}});function V(e){var t=Q(),a=i.a.useState(0),c=Object(s.a)(a,2),r=c[0],d=c[1],j=Object(l.e)(),p=Object(n.useContext)(H),u=function(e){return j.push({pathname:e,state:{userId:p}})},b=function(e){"/"===e?window.confirm("\u672c\u5f53\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")&&u(e):u(e)};return Object(o.jsxs)(L.a,{value:r,onChange:function(e,t){d(t)},showLabels:!0,className:t.root,children:[Object(o.jsx)(R.a,{label:"MyBooks",icon:Object(o.jsx)(G.a,{}),onClick:function(){return b("/MyBookShelf")}}),Object(o.jsx)(R.a,{label:"SearchBook",icon:Object(o.jsx)(A.a,{}),onClick:function(){return b("/Search")}}),Object(o.jsx)(R.a,{label:"Logout",icon:Object(o.jsx)(q.a,{}),onClick:function(){return b("/")}})]})}var X=Object(f.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"140%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(U.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(U.b)(e.palette.common.white,.25)},marginLeft:"auto",width:"40%"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(w.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),modal:{maxHeight:"inherit",maxWidth:"inherit",marginRight:"15px",marginLeft:"15px",display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var Z=a(37);r.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsxs)(Z.a,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",component:function(){var e=C(),t=Object(l.e)(),a=/^[a-z\d]{8,15}$/i,i=/^(?=.*?[a-z])(?=.*?\d)[a-z\d]{8,15}$/i,c=Object(n.useState)(""),r=Object(s.a)(c,2),O=r[0],f=r[1],v=Object(n.useState)(""),k=Object(s.a)(v,2),y=k[0],w=k[1],N=Object(n.useState)("UserID"),P=Object(s.a)(N,2),T=P[0],B=P[1],D=Object(n.useState)(!1),W=Object(s.a)(D,2),M=W[0],U=W[1],z=Object(n.useState)(""),A=Object(s.a)(z,2),L=A[0],R=A[1],E=Object(n.useState)("Password"),G=Object(s.a)(E,2),J=G[0],q=G[1],$=Object(n.useState)(!1),F=Object(s.a)($,2),K=F[0],Y=F[1],H=Object(n.useState)(""),Q=Object(s.a)(H,2),V=(Q[0],Q[1],Object(n.useState)(!1)),X=Object(s.a)(V,2),Z=X[0],_=X[1];return Object(n.useEffect)((function(){_(!K||!M)})),Object(o.jsxs)(h.a,{container:!0,component:"main",className:e.root,children:[Object(o.jsx)(p.a,{}),Object(o.jsx)(h.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(o.jsx)(h.a,{item:!0,xs:12,sm:8,md:5,component:I.a,elevation:6,square:!0,children:Object(o.jsxs)("div",{className:e.paper,children:[Object(o.jsx)(d.a,{className:e.avatar,children:Object(o.jsx)(g.a,{})}),Object(o.jsx)(x.a,{component:"h1",variant:"h5",children:"MyBookShelf"}),Object(o.jsx)(x.a,{component:"h2",variant:"h5",children:"Sign in"}),Object(o.jsx)(x.a,{variant:"body2",color:"error",align:"center",children:O}),Object(o.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userId",label:T,name:"userId",autoComplete:"userId",inputProps:{maxLength:15},onChange:function(e){return function(e){var t=e.target.value;""===t||null===t?(B("UserID"),U(!1)):t.length<=15&&a.test(t)?(B("UserID"),w(t),U(!0)):(B("\u534a\u89d2\u82f1\u6570\u5b578\u301c15\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),U(!1))}(e)}}),Object(o.jsx)(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:J,type:"text",id:"password",autoComplete:"current-password",inputProps:{maxLength:20},onChange:function(e){return function(e){var t=e.target.value;""===t||null===t?(q("Password"),Y(!1)):t.length<=15&&i.test(t)?(q("Password"),R(t),Y(!0)):(q("\u534a\u89d2\u82f1\u6570\u5b578\u301c15\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),Y(!1))}(e)}}),Object(o.jsx)(j.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:Z,onClick:function(){return function(){var e={passWord:L,loginId:y},a=JSON.stringify(e);fetch("https://suzuki-portfolio.herokuapp.com/loginAPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then((function(e){return e.json()})).then((function(e){f(e.message),e.result&&t.push({pathname:"/MyBookShelf",state:{userId:e.userId,userName:e.userName}})})).catch(console.error)}()},children:"Sign In"}),Object(o.jsx)(h.a,{container:!0,children:Object(o.jsx)(h.a,{item:!0,children:Object(o.jsx)(b.a,{href:"/SignUp",variant:"body2",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u5834\u5408\uff1a \u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210"})})}),Object(o.jsx)(m.a,{mt:5,children:Object(o.jsx)(S,{})})]})})]})}}),Object(o.jsx)(l.a,{path:"/SignUp",component:function(){var e=y(),t=/^[a-z\d]{5,15}$/i,a=/^[a-z\d]{8,15}$/i,i=/^(?=.*?[a-z])(?=.*?\d)[a-z\d]{8,15}$/i,c=Object(n.useState)(""),r=Object(s.a)(c,2),O=r[0],f=r[1],I=Object(n.useState)(""),S=Object(s.a)(I,2),C=S[0],w=S[1],N=Object(n.useState)("UserName"),P=Object(s.a)(N,2),T=P[0],B=P[1],D=Object(n.useState)(!1),W=Object(s.a)(D,2),M=W[0],U=W[1],z=Object(n.useState)(""),A=Object(s.a)(z,2),L=A[0],R=A[1],E=Object(n.useState)("UserID"),G=Object(s.a)(E,2),J=G[0],q=G[1],$=Object(n.useState)(!1),F=Object(s.a)($,2),K=F[0],Y=F[1],H=Object(n.useState)(""),Q=Object(s.a)(H,2),V=Q[0],X=Q[1],Z=Object(n.useState)("Password"),_=Object(s.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)(!1),ne=Object(s.a)(ae,2),ie=ne[0],ce=ne[1],re=Object(n.useState)(!1),oe=Object(s.a)(re,2),se=oe[0],le=oe[1];Object(n.useEffect)((function(){le(!(ie&&K&&M))}));var de=Object(l.e)(),je=function(){var e={passWord:V,loginId:L,userName:C},t=JSON.stringify(e);fetch("https://suzuki-portfolio.herokuapp.com/accountRegisterAPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){var t;f(e.message),e.result&&(alert("\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002"),t="/",de.push(t))})).catch(console.error)};return Object(o.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(p.a,{}),Object(o.jsxs)("div",{className:e.paper,children:[Object(o.jsx)(d.a,{className:e.avatar,children:Object(o.jsx)(g.a,{})}),Object(o.jsx)(x.a,{component:"h1",variant:"h5",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210"}),Object(o.jsxs)(h.a,{container:!0,spacing:2,children:[Object(o.jsx)(x.a,{variant:"body2",color:"error",align:"center",children:O}),Object(o.jsx)(h.a,{item:!0,xs:12,children:Object(o.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:T,name:"userName",autoComplete:"userName",inputProps:{maxLength:15},onChange:function(e){return function(e){var a=e.target.value;""===a||null===a?(B("UserName"),U(!1)):a.length<=15&&t.test(a)?(B("UserName"),w(a),U(!0)):(B("\u534a\u89d2\u82f1\u6570\u5b575\u301c15\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),U(!1))}(e)}})}),Object(o.jsx)(h.a,{item:!0,xs:12,children:Object(o.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userId",label:J,name:"userId",autoComplete:"userId",inputProps:{maxLength:15},onChange:function(e){return function(e){var t=e.target.value;""===t||null===t?(q("UserID"),Y(!1)):t.length<=15&&a.test(t)?(q("UserID"),R(t),Y(!0)):(q("\u534a\u89d2\u82f1\u6570\u5b578\u301c15\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),Y(!1))}(e)}})}),Object(o.jsx)(h.a,{item:!0,xs:12,children:Object(o.jsx)(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:ee,type:"text",id:"password",autoComplete:"current-password",inputProps:{maxLength:20},onChange:function(e){return function(e){var t=e.target.value;""===t||null===t?(te("Password"),ce(!1)):t.length<=15&&i.test(t)?(te("Password"),X(t),ce(!0)):(te("\u534a\u89d2\u82f1\u6570\u5b578\u301c15\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),ce(!1))}(e)}})})]}),Object(o.jsx)(j.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:se,onClick:function(){return je()},children:"Sign Up"}),Object(o.jsx)(h.a,{container:!0,justify:"flex-end",children:Object(o.jsx)(h.a,{item:!0,children:Object(o.jsx)(b.a,{href:"/",variant:"body2",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u3059\u3067\u306b\u304a\u6301\u3061\u306e\u5834\u5408\uff1a\u30ed\u30b0\u30a4\u30f3"})})})]}),Object(o.jsx)(m.a,{mt:5,children:Object(o.jsx)(k,{})})]})}}),Object(o.jsx)(l.a,{path:"/Search",component:function(e){var t=X(),a=e.location.state.userId,c=Object(n.useState)(""),r=Object(s.a)(c,2),l=r[0],d=r[1],u=Object(n.useState)([]),b=Object(s.a)(u,2),m=b[0],O=b[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),k=f[0],y=f[1],I=function(){y("")};return Object(o.jsxs)(i.a.Fragment,{children:[Object(o.jsx)(p.a,{}),Object(o.jsx)(N.a,{position:"fixed",children:Object(o.jsxs)(W.a,{children:[Object(o.jsx)(T.a,{className:t.icon}),Object(o.jsx)(x.a,{variant:"h7",color:"inherit",noWrap:!0,children:"MyBookShelf"}),Object(o.jsxs)("div",{className:t.search,children:[Object(o.jsx)("div",{className:t.searchIcon,children:Object(o.jsx)(A.a,{})}),Object(o.jsx)("form",{onSubmit:function(e){return function(e){console.log(a);var t="https://app.rakuten.co.jp/services/api/BooksBook/Search/20170404?format=json&title=".concat(l,"&applicationId=1043481609307048393");fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){O(e.Items)})).catch(console.error),e.preventDefault()}(e)},children:Object(o.jsx)(M.a,{placeholder:"\u672c\u3092\u691c\u7d22",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return function(e){var t=e.target.value;d(t)}(e)},id:"search"})})]})]})}),Object(o.jsx)("main",{children:Object(o.jsx)(v.a,{className:t.cardGrid,maxWidth:"md",children:Object(o.jsx)(h.a,{container:!0,spacing:4,children:m.map((function(e){return Object(o.jsxs)(h.a,{item:!0,xs:6,sm:3,children:[Object(o.jsx)(B.a,{className:t.card,children:Object(o.jsx)(D.a,{className:t.cardMedia,image:e.Item.largeImageUrl,title:"Image title",onClick:function(){return t=e.Item.title,void y(t);var t}})}),k===e.Item.title?Object(o.jsx)("div",{children:Object(o.jsx)($.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:!0,onClose:I,closeAfterTransition:!0,BackdropComponent:F.a,BackdropProps:{timeout:500},children:Object(o.jsx)(K.a,{in:!0,children:Object(o.jsxs)("div",{className:t.paper,children:[Object(o.jsx)("img",{src:e.Item.largeImageUrl}),Object(o.jsx)("h2",{id:"transition-modal-title",children:e.Item.title}),Object(o.jsx)("h3",{children:e.Item.titleKana}),Object(o.jsxs)("h3",{children:["\u8457\u8005\uff1a",e.Item.author]}),Object(o.jsxs)("h3",{children:["\u4fa1\u683c\uff1a",e.Item.itemPrice,"\u5186"]}),Object(o.jsx)("p",{id:"transition-modal-description",children:e.Item.itemCaption}),Object(o.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){return function(e){var t={bookTitle:e.title,bookTitleKana:e.titleKana,author:e.author,salesDate:e.salesDate,imgPath:e.largeImageUrl,description:e.itemCaption,userId:a},n=JSON.stringify(t);fetch("https://suzuki-portfolio.herokuapp.com/saveBookDataAPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n}).catch(console.error),I(),alert("MyBooks\u306b\u8ffd\u52a0\u3057\u307e\u3057\u305f")}(e.Item)},children:"\u8ffd\u52a0"}),Object(o.jsx)(j.a,{variant:"contained",onClick:I,children:"\u623b\u308b"})]})})})}):null]},e)}))})})}),Object(o.jsx)(H.Provider,{value:a,children:Object(o.jsx)(V,{})})]})}}),Object(o.jsx)(l.a,{path:"/MyBookShelf",component:function(e){var t=Y(),a=e.location.state.userId,c=(e.location.state.userName,Object(n.useState)([])),r=Object(s.a)(c,2),l=r[0],d=r[1],u=Object(n.useState)(""),b=Object(s.a)(u,2),m=b[0],O=b[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){var e={userId:a},t=JSON.stringify(e);fetch("https://suzuki-portfolio.herokuapp.com/getMyBookDataAPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){d(e)})).catch(console.error)},f=function(){O("")};return Object(o.jsxs)(i.a.Fragment,{children:[Object(o.jsx)(p.a,{}),Object(o.jsx)(N.a,{position:"fixed",children:Object(o.jsxs)(W.a,{children:[Object(o.jsx)(T.a,{className:t.icon}),Object(o.jsx)(x.a,{variant:"h7",color:"inherit",noWrap:!0,children:"MyBookShelf"})]})}),Object(o.jsxs)("main",{children:[Object(o.jsx)("br",{}),Object(o.jsx)(v.a,{className:t.cardGrid,maxWidth:"md",children:Object(o.jsx)(h.a,{container:!0,spacing:4,children:l.map((function(e){return Object(o.jsxs)(h.a,{item:!0,xs:6,sm:3,children:[Object(o.jsx)(B.a,{className:t.card,children:Object(o.jsx)(D.a,{className:t.cardMedia,image:e.imgPath,title:"Image title",onClick:function(){return t=e.bookTitle,void O(t);var t}})}),m===e.bookTitle?Object(o.jsx)("div",{children:Object(o.jsx)($.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:!0,onClose:f,closeAfterTransition:!0,BackdropComponent:F.a,BackdropProps:{timeout:500},children:Object(o.jsx)(K.a,{in:!0,children:Object(o.jsxs)("div",{className:t.paper,children:[Object(o.jsx)("img",{src:e.imgPath}),Object(o.jsx)("h2",{id:"transition-modal-title",children:e.bookTitle}),Object(o.jsx)("h3",{children:e.bookTitleKana}),Object(o.jsxs)("h3",{children:["\u8457\u8005\uff1a",e.author]}),Object(o.jsxs)("h3",{children:["\u4fa1\u683c\uff1a",e.price,"\u5186"]}),Object(o.jsx)("p",{id:"transition-modal-description",children:e.description}),Object(o.jsx)(j.a,{variant:"contained",color:"secondary",onClick:function(){return function(e){var t={bookId:e},a=JSON.stringify(t);fetch("https://suzuki-portfolio.herokuapp.com/deleteBookDataAPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).catch(console.error),alert("\u672c\u68da\u304b\u3089\u524a\u9664\u3057\u307e\u3057\u305f\u3002"),g()}(e.bookId)},children:"\u524a\u9664"}),Object(o.jsx)(j.a,{variant:"contained",onClick:f,children:"\u623b\u308b"})]})})})}):null]},e)}))})})]}),Object(o.jsx)(V,{}),Object(o.jsx)(H.Provider,{value:a,children:Object(o.jsx)(V,{})})]})}})]})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.5f8449be.chunk.js.map